## 1. 产品概述
JSON Reader 是一款简洁优雅的本地桌面应用，专门用于从混合文本中快速提取和可视化 JSON 数据。用户可以直接粘贴包含 JSON 的文本（如日志、提示词等），应用会自动识别并提取所有独立的 JSON 块，以交互式树形界面展示，同时智能识别并渲染 JSON 字符串中的 Markdown 内容。

该应用主要解决开发者和数据分析师在处理混合文本数据时，快速查看和理解 JSON 结构的需求，提供比传统 JSON 格式化工具更直观、更智能的可视化体验。

## 2. 核心功能

### 2.1 用户角色
| 角色 | 描述 | 核心权限 |
|------|------|----------|
| 普通用户 | 本地应用使用者 | 使用所有 JSON 读取和可视化功能 |

### 2.2 功能模块
JSON Reader 应用包含以下核心功能：
1. **主界面**：文本输入区域、JSON 提取结果展示、操作工具栏
2. **JSON 提取器**：智能识别文本中的多个独立 JSON 块
3. **可视化渲染器**：交互式树形结构展示，支持 Markdown 内容渲染
4. **操作面板**：复制、清空、撤销、重做等快捷操作

### 2.3 页面详情
| 页面名称 | 模块名称 | 功能描述 |
|-----------|-------------|---------------------|
| 主界面 | 文本输入区域 | 支持粘贴大段文本，自动检测其中的 JSON 内容，提供语法高亮 |
| 主界面 | JSON 提取结果 | 以卡片形式展示提取到的每个 JSON，支持折叠/展开，显示 JSON 结构树 |
| 主界面 | 树形可视化 | 交互式展示 JSON 结构，支持展开折叠节点，显示数据类型和值 |
| 主界面 | Markdown 渲染 | 自动检测 JSON 字符串中的 Markdown 内容并渲染为富文本 |
| 主界面 | 操作工具栏 | 提供复制格式化 JSON、复制 Markdown、清空输入、撤销、重做等快捷按钮 |
| 主界面 | 状态栏 | 显示提取到的 JSON 数量、当前选中节点路径等状态信息 |

## 3. 核心流程
用户操作流程：
1. 启动应用后进入主界面
2. 在输入区域粘贴包含 JSON 的混合文本
3. 应用自动提取所有独立的 JSON 块
4. 每个 JSON 以独立卡片形式展示，可折叠展开
5. 用户点击 JSON 卡片查看详细的树形结构
6. 对于包含 Markdown 的字符串值，自动渲染为富文本
7. 用户可以使用快捷键或按钮进行复制、清空、撤销、重做等操作

```mermaid
graph TD
    A[启动应用] --> B[粘贴文本到输入区]
    B --> C[自动提取JSON]
    C --> D{提取到JSON?}
    D -->|是| E[展示JSON卡片列表]
    D -->|否| F[显示无JSON提示]
    E --> G[用户点击JSON卡片]
    G --> H[展示树形结构]
    H --> I{包含Markdown?}
    I -->|是| J[渲染Markdown内容]
    I -->|否| K[显示普通文本]
    J --> L[用户操作: 复制/清空/撤销/重做]
    K --> L
    F --> B
```

## 4. 用户界面设计

### 4.1 设计风格
- **主色调**：深灰色 (#1a1a1a) 背景，浅灰色 (#f5f5f5) 文字，蓝色 (#3b82f6) 作为强调色
- **按钮样式**：圆角矩形，悬停时有轻微阴影效果
- **字体**：系统默认等宽字体用于 JSON 展示，系统默认无衬线字体用于界面元素
- **布局风格**：左侧为输入区域，右侧为结果展示区域，采用分栏布局
- **图标风格**：使用简洁的线性图标，符合 macOS 设计规范

### 4.2 页面设计概述
| 页面名称 | 模块名称 | UI 元素 |
|-----------|-------------|-------------|
| 主界面 | 输入区域 | 深色背景的代码编辑器样式，支持语法高亮，顶部有粘贴按钮 |
| 主界面 | JSON 卡片 | 白色圆角卡片，带有阴影，标题显示 JSON 序号和大小，可折叠 |
| 主界面 | 树形结构 | 使用缩进和连线展示层级关系，节点前有展开/折叠图标 |
| 主界面 | Markdown 渲染 | 在 JSON 字符串值的位置内联展示，支持标题、列表、代码块等常见格式 |
| 主界面 | 工具栏 | 顶部固定位置，包含复制、清空、撤销、重做等图标按钮 |
| 主界面 | 状态栏 | 底部显示，展示 JSON 统计信息和当前操作提示 |

### 4.3 响应式设计
- **桌面优先**：针对桌面端优化，支持窗口大小调整
- **最小窗口尺寸**：800x600 像素
- **自适应布局**：输入区域和结果区域的比例可手动调整
- **快捷键支持**：完整的键盘快捷键系统，包括 Cmd+Z/Ctrl+Z 撤销重做等

### 4.4 性能要求
- **启动时间**：应用启动时间小于 1 秒
- **处理速度**：100KB 文本的 JSON 提取和渲染时间小于 500ms
- **内存占用**：处理大文件时内存占用不超过 100MB
- **流畅度**：界面操作响应时间小于 100ms